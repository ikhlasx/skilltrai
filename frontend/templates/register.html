<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SkillTrai - Registration</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <meta name="theme-color" content="#000000">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        dark: {
                            DEFAULT: '#000000',
                            light: '#0a0a0a',
                            medium: '#050505',
                        },
                    },
                }
            }
        }
    </script>
    <script src="https://unpkg.com/react@17/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <style>
        body {
            background-color: #000000;
        }

        /* Custom scrollbar for dark theme */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #0a0a0a;
        }

        ::-webkit-scrollbar-thumb {
            background: #4B0082;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #6a1b9a;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        // Import React hooks
        const { useState } = React;

        // Navigation component with responsive mobile menu
        const Navigation = () => {
            const [isMenuOpen, setIsMenuOpen] = useState(false);

            return (
                <nav className="fixed w-full bg-black z-50 border-b border-gray-900">
                    <div className="container mx-auto px-4 md:px-6 py-4 flex justify-between items-center">
                        <div className="flex items-center space-x-2">
                            <div className="w-8 h-8 bg-purple-600 rounded-full"></div>
                            <span className="text-white text-xl font-medium">SkillTrai</span>
                        </div>

                        {/* Desktop Navigation */}
                        <div className="hidden md:flex items-center space-x-8">
                            <a href="/" className="text-gray-300 hover:text-white transition-colors">Home</a>
                            <a href="/courses/" className="text-gray-300 hover:text-white transition-colors">Courses</a>
                            <a href="/trainers/" className="text-gray-300 hover:text-white transition-colors">Trainers</a>
                            <a href="/events/" className="text-gray-300 hover:text-white transition-colors">Events</a>
                            <a href="/register/" className="text-white font-medium">Register</a>
                        </div>

                        {/* Mobile Menu Button */}
                        <button
                            className="md:hidden text-white"
                            onClick={() => setIsMenuOpen(!isMenuOpen)}
                        >
                            {isMenuOpen ? (
                                <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M6 18L18 6M6 6l12 12"></path>
                                </svg>
                            ) : (
                                <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M4 6h16M4 12h16M4 18h16"></path>
                                </svg>
                            )}
                        </button>
                    </div>

                    {/* Mobile Menu */}
                    {isMenuOpen && (
                        <div className="md:hidden bg-black border-t border-gray-900 py-4">
                            <div className="container mx-auto px-4 flex flex-col space-y-4">
                                <a href="/" className="text-gray-300 hover:text-white py-2 transition-colors">Home</a>
                                <a href="/courses/" className="text-gray-300 hover:text-white py-2 transition-colors">Courses</a>
                                <a href="/trainers/" className="text-gray-300 hover:text-white py-2 transition-colors">Trainers</a>
                                <a href="/events/" className="text-gray-300 hover:text-white py-2 transition-colors">Events</a>
                                <a href="/register/" className="text-white font-medium py-2">Register</a>
                            </div>
                        </div>
                    )}
                </nav>
            );
        };

        // Get CSRF token from cookies
        function getCookie(name) {
            let cookieValue = null;
            if (document.cookie && document.cookie !== '') {
                const cookies = document.cookie.split(';');
                for (let i = 0; i < cookies.length; i++) {
                    const cookie = cookies[i].trim();
                    if (cookie.substring(0, name.length + 1) === (name + '=')) {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                    }
                }
            }
            return cookieValue;
        }

        // Registration Form Component
        const RegistrationForm = () => {
            // State for form fields
            const [formData, setFormData] = useState({
                fullName: '',
                email: '',
                phone: '',
                education: '',
                courseInterest: '',
                experience: 'beginner',
                goal: '',
                webinarDates: [],
                agreeToTerms: false
            });

            // State for form submission
            const [submitting, setSubmitting] = useState(false);
            const [submitted, setSubmitted] = useState(false);
            const [error, setError] = useState('');

            // Available courses
            const courses = [
                { id: 'design', name: 'Design & Digital Marketing' },
                { id: 'ai-dev', name: 'AI Developer' },
                { id: 'ai-eng', name: 'AI Engineer' },
                { id: 'data', name: 'Data Analysis' },
                { id: 'robotics', name: 'Robotics and IoT' }
            ];

            // Webinar dates options
            const webinarDates = [
                { id: 'march15', date: 'March 15, 2025', time: '6:00 PM - 7:30 PM' },
                { id: 'march22', date: 'March 22, 2025', time: '10:00 AM - 11:30 AM' },
                { id: 'march29', date: 'March 29, 2025', time: '2:00 PM - 3:30 PM' },
                { id: 'april5', date: 'April 5, 2025', time: '7:00 PM - 8:30 PM' }
            ];

            // Handle form input changes
            const handleChange = (e) => {
                const { name, value, type, checked } = e.target;
                if (type === 'checkbox') {
                    if (name === 'agreeToTerms') {
                        setFormData({
                            ...formData,
                            [name]: checked
                        });
                    } else if (name.startsWith('webinar-')) {
                        const dateId = name.replace('webinar-', '');
                        if (checked) {
                            setFormData({
                                ...formData,
                                webinarDates: [...formData.webinarDates, dateId]
                            });
                        } else {
                            setFormData({
                                ...formData,
                                webinarDates: formData.webinarDates.filter(date => date !== dateId)
                            });
                        }
                    }
                } else {
                    setFormData({
                        ...formData,
                        [name]: value
                    });
                }
            };

            // Handle form submission
            const handleSubmit = async (e) => {
                e.preventDefault();
                setError('');

                // Validate form
                if (!formData.fullName || !formData.email || !formData.phone || !formData.courseInterest || formData.webinarDates.length === 0 || !formData.agreeToTerms) {
                    setError('Please fill in all required fields and agree to the terms.');
                    return;
                }

                // Submit form
                setSubmitting(true);

                try {
                    // Get CSRF token
                    const csrftoken = getCookie('csrftoken');

                    // Send data to backend
                    const response = await fetch('/api/register/', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'X-CSRFToken': csrftoken
                        },
                        body: JSON.stringify(formData)
                    });

                    const data = await response.json();

                    if (response.ok && data.success) {
                        setSubmitted(true);

                        // Reset form after submission
                        setFormData({
                            fullName: '',
                            email: '',
                            phone: '',
                            education: '',
                            courseInterest: '',
                            experience: 'beginner',
                            goal: '',
                            webinarDates: [],
                            agreeToTerms: false
                        });
                    } else {
                        setError(data.error || 'An error occurred. Please try again.');
                    }
                } catch (error) {
                    setError('An error occurred. Please try again.');
                } finally {
                    setSubmitting(false);
                }
            };

            return (
                <div className="min-h-screen bg-black text-white p-4 md:p-6">
                    <div className="max-w-4xl mx-auto">
                        {/* Header */}
                        <div className="text-center mb-16 pt-28">
                            <div className="inline-flex items-center bg-black border border-purple-900 rounded-full px-5 py-2 mb-6">
                                <span className="text-sm font-medium text-purple-400">JOIN SKILLTRAI</span>
                            </div>
                            <h1 className="text-4xl md:text-6xl font-bold mb-6">
                                <span className="bg-gradient-to-r from-purple-400 to-purple-600 text-transparent bg-clip-text">
                                    Program Registration
                                </span>
                            </h1>
                            <p className="text-xl text-gray-300 max-w-3xl mx-auto">
                                Take the first step towards your new career by registering for our upcoming program and webinar sessions.
                            </p>
                        </div>

                        {/* Success Message */}
                        {submitted ? (
                            <div className="bg-black border border-green-600 rounded-xl p-8 text-center mb-16">
                                <div className="w-16 h-16 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-6">
                                    <svg className="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M5 13l4 4L19 7"></path>
                                    </svg>
                                </div>
                                <h2 className="text-2xl font-bold text-white mb-4">Registration Successful!</h2>
                                <p className="text-gray-300 mb-8">
                                    Thank you for registering for the SkillTrai program. We've sent a confirmation email with all the details.
                                    Our team will be in touch with you shortly with more information about the webinar sessions.
                                </p>
                                <button
                                    onClick={() => setSubmitted(false)}
                                    className="bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-full font-medium transition-colors">
                                    Register Another Student
                                </button>
                            </div>
                        ) : (
                            <div className="bg-black border border-gray-900 rounded-xl p-6 md:p-8 mb-16">
                                <h2 className="text-2xl font-bold mb-6">Student Information</h2>

                                {/* Error Message */}
                                {error && (
                                    <div className="bg-red-900/20 border border-red-500 text-red-300 px-4 py-3 rounded-lg mb-6">
                                        {error}
                                    </div>
                                )}

                                <form onSubmit={handleSubmit}>
                                    <div className="space-y-6">
                                        {/* Personal Information */}
                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                            <div>
                                                <label htmlFor="fullName" className="block text-sm font-medium text-gray-300 mb-2">
                                                    Full Name <span className="text-red-500">*</span>
                                                </label>
                                                <input
                                                    type="text"
                                                    id="fullName"
                                                    name="fullName"
                                                    value={formData.fullName}
                                                    onChange={handleChange}
                                                    className="w-full bg-black border border-gray-800 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent"
                                                    placeholder="Enter your full name"
                                                    required
                                                />
                                            </div>
                                            <div>
                                                <label htmlFor="email" className="block text-sm font-medium text-gray-300 mb-2">
                                                    Email Address <span className="text-red-500">*</span>
                                                </label>
                                                <input
                                                    type="email"
                                                    id="email"
                                                    name="email"
                                                    value={formData.email}
                                                    onChange={handleChange}
                                                    className="w-full bg-black border border-gray-800 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent"
                                                    placeholder="your.email@example.com"
                                                    required
                                                />
                                            </div>
                                        </div>

                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                            <div>
                                                <label htmlFor="phone" className="block text-sm font-medium text-gray-300 mb-2">
                                                    Phone Number <span className="text-red-500">*</span>
                                                </label>
                                                <input
                                                    type="tel"
                                                    id="phone"
                                                    name="phone"
                                                    value={formData.phone}
                                                    onChange={handleChange}
                                                    className="w-full bg-black border border-gray-800 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent"
                                                    placeholder="Enter your phone number"
                                                    required
                                                />
                                            </div>
                                            <div>
                                                <label htmlFor="education" className="block text-sm font-medium text-gray-300 mb-2">
                                                    Education Background
                                                </label>
                                                <input
                                                    type="text"
                                                    id="education"
                                                    name="education"
                                                    value={formData.education}
                                                    onChange={handleChange}
                                                    className="w-full bg-black border border-gray-800 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent"
                                                    placeholder="Your highest qualification"
                                                />
                                            </div>
                                        </div>

                                        {/* Course Interest */}
                                        <div>
                                            <label htmlFor="courseInterest" className="block text-sm font-medium text-gray-300 mb-2">
                                                Course Interest <span className="text-red-500">*</span>
                                            </label>
                                            <select
                                                id="courseInterest"
                                                name="courseInterest"
                                                value={formData.courseInterest}
                                                onChange={handleChange}
                                                className="w-full bg-black border border-gray-800 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent"
                                                required
                                            >
                                                <option value="">Select a course</option>
                                                {courses.map(course => (
                                                    <option key={course.id} value={course.id}>{course.name}</option>
                                                ))}
                                            </select>
                                        </div>

                                        {/* Experience Level */}
                                        <div>
                                            <label className="block text-sm font-medium text-gray-300 mb-2">
                                                Experience Level
                                            </label>
                                            <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                                                <div className="flex items-center">
                                                    <input
                                                        type="radio"
                                                        id="beginner"
                                                        name="experience"
                                                        value="beginner"
                                                        checked={formData.experience === 'beginner'}
                                                        onChange={handleChange}
                                                        className="h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-700 bg-black"
                                                    />
                                                    <label htmlFor="beginner" className="ml-2 text-gray-300">
                                                        Beginner
                                                    </label>
                                                </div>
                                                <div className="flex items-center">
                                                    <input
                                                        type="radio"
                                                        id="intermediate"
                                                        name="experience"
                                                        value="intermediate"
                                                        checked={formData.experience === 'intermediate'}
                                                        onChange={handleChange}
                                                        className="h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-700 bg-black"
                                                    />
                                                    <label htmlFor="intermediate" className="ml-2 text-gray-300">
                                                        Intermediate
                                                    </label>
                                                </div>
                                                <div className="flex items-center">
                                                    <input
                                                        type="radio"
                                                        id="advanced"
                                                        name="experience"
                                                        value="advanced"
                                                        checked={formData.experience === 'advanced'}
                                                        onChange={handleChange}
                                                        className="h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-700 bg-black"
                                                    />
                                                    <label htmlFor="advanced" className="ml-2 text-gray-300">
                                                        Advanced
                                                    </label>
                                                </div>
                                            </div>
                                        </div>

                                        {/* Goal */}
                                        <div>
                                            <label htmlFor="goal" className="block text-sm font-medium text-gray-300 mb-2">
                                                What are your goals for this program?
                                            </label>
                                            <textarea
                                                id="goal"
                                                name="goal"
                                                value={formData.goal}
                                                onChange={handleChange}
                                                rows="4"
                                                className="w-full bg-black border border-gray-800 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent"
                                                placeholder="Tell us what you hope to achieve..."
                                            ></textarea>
                                        </div>

                                        {/* Webinar Dates */}
                                        <div>
                                            <label className="block text-sm font-medium text-gray-300 mb-2">
                                                Available Webinar Dates <span className="text-red-500">*</span>
                                            </label>
                                            <p className="text-gray-400 text-sm mb-4">
                                                Select all dates you're available to attend the program introduction webinar:
                                            </p>
                                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                                {webinarDates.map(webinar => (
                                                    <div key={webinar.id} className="flex items-center space-x-3 border border-gray-800 rounded-lg p-4 hover:border-purple-600 transition-colors">
                                                        <input
                                                            type="checkbox"
                                                            id={`webinar-${webinar.id}`}
                                                            name={`webinar-${webinar.id}`}
                                                            checked={formData.webinarDates.includes(webinar.id)}
                                                            onChange={handleChange}
                                                            className="h-5 w-5 text-purple-600 focus:ring-purple-500 border-gray-700 bg-black rounded"
                                                        />
                                                        <label htmlFor={`webinar-${webinar.id}`} className="flex-1">
                                                            <div className="font-medium text-white">{webinar.date}</div>
                                                            <div className="text-sm text-purple-400">{webinar.time}</div>
                                                        </label>
                                                    </div>
                                                ))}
                                            </div>
                                        </div>

                                        {/* Terms and Conditions */}
                                        <div className="flex items-start space-x-3 border border-gray-800 rounded-lg p-4">
                                            <input
                                                type="checkbox"
                                                id="agreeToTerms"
                                                name="agreeToTerms"
                                                checked={formData.agreeToTerms}
                                                onChange={handleChange}
                                                className="h-5 w-5 text-purple-600 focus:ring-purple-500 border-gray-700 bg-black rounded mt-1"
                                                required
                                            />
                                            <label htmlFor="agreeToTerms" className="text-sm text-gray-300">
                                                I agree to the <a href="#" className="text-purple-400 hover:text-purple-300">Terms and Conditions</a> and <a href="#" className="text-purple-400 hover:text-purple-300">Privacy Policy</a>. I understand that SkillTrai will use my information to contact me about the program.
                                            </label>
                                        </div>

                                        {/* Submit Button */}
                                        <div className="flex justify-center pt-6">
                                            <button
                                                type="submit"
                                                disabled={submitting}
                                                className={`bg-purple-600 hover:bg-purple-700 text-white px-8 py-4 rounded-full text-lg font-medium transition-colors ${submitting ? 'opacity-70 cursor-not-allowed' : ''}`}
                                            >
                                                {submitting ? (
                                                    <span className="flex items-center">
                                                        <svg className="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                                            <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4"></circle>
                                                            <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                                        </svg>
                                                        Processing...
                                                    </span>
                                                ) : 'Submit Registration'}
                                            </button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        )}

                        {/* Additional Information */}
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-16">
                            <div className="bg-black border border-gray-900 rounded-xl p-6 hover:border-purple-900 transition-colors">
                                <div className="text-3xl mb-4">📋</div>
                                <h3 className="text-lg font-medium text-white mb-2">Application Process</h3>
                                <p className="text-gray-400">After registration, we'll review your application and send you details about the webinar and next steps.</p>
                            </div>
                            <div className="bg-black border border-gray-900 rounded-xl p-6 hover:border-purple-900 transition-colors">
                                <div className="text-3xl mb-4">💼</div>
                                <h3 className="text-lg font-medium text-white mb-2">Scholarship Options</h3>
                                <p className="text-gray-400">Limited scholarships are available based on merit and need. Details will be shared during the webinar.</p>
                            </div>
                            <div className="bg-black border border-gray-900 rounded-xl p-6 hover:border-purple-900 transition-colors">
                                <div className="text-3xl mb-4">❓</div>
                                <h3 className="text-lg font-medium text-white mb-2">Have Questions?</h3>
                                <p className="text-gray-400">Contact our support team at <span className="text-purple-400">support@skilltrai.com</span> or call us at <span className="text-purple-400">+1 (555) 123-4567</span>.</p>
                            </div>
                        </div>

                    </div>

                    {/* Footer */}
                    <div className="text-center text-sm text-gray-500 pt-8 border-t border-gray-900 pb-8">
                        <p>© 2025 SkillTrai. All rights reserved.</p>
                        <p className="mt-2">Empowering the next generation of tech professionals.</p>
                    </div>
                </div>
            );
        };

        // Main App Component
        const RegisterPage = () => {
            return (
                <div className="bg-black min-h-screen">
                    <Navigation />
                    <RegistrationForm />
                </div>
            );
        };

        // Render the app
        ReactDOM.render(
            <RegisterPage />,
            document.getElementById('root')
        );
    </script>
</body>
</html>